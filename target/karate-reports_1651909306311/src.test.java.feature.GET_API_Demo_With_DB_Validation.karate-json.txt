{"failedCount":1,"prefixedPath":"src\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature","packageQualifiedName":"src.test.java.feature.GET_API_Demo_With_DB_Validation","loopIndex":-1,"relativePath":"src\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":82312800,"millis":82.3128,"status":"passed"},"step":{"comments":["#Create DB connection with DBUtils java class"],"background":true,"line":5,"prefix":"*","index":0,"text":"def config = { username: 'root', password: 'root', url: 'jdbc:mysql:\/\/127.0.0.1:3306\/mydatabase', driverClassName: 'com.mysql.cj.jdbc.Driver' }"},"stepLog":"13:09:43.657 karate.env system property is ===>>  null \n"},{"result":{"nanos":16003400,"millis":16.0034,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def DbUtils = Java.type('util.DBUtils')"}},{"result":{"nanos":86531900,"millis":86.5319,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new DbUtils(config)"}},{"result":{"nanos":880400,"millis":0.8804,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:8080\/getcountry\/4'"}},{"result":{"nanos":1272939000,"millis":1272.939,"status":"passed"},"step":{"line":11,"prefix":"When","index":1,"text":"method GET"},"stepLog":"13:09:45.091 request:\n1 > GET http:\/\/localhost:8080\/getcountry\/4\n1 > Host: localhost:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_201)\n1 > Accept-Encoding: gzip,deflate\n\n\n13:09:45.180 response time in milliseconds: 82\n1 < 302\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Sat, 07 May 2022 07:39:45 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"countryId\":4,\"countryName\":\"Japan\",\"countryCapital\":\"Tokyo\",\"countryPopulation\":126038800,\"countryStates\":47,\"countryLanguage\":\"Japanese\",\"countrySport\":\"Sumo\"}\n"},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":12,"prefix":"Then","index":2,"text":"status 302"}},{"result":{"nanos":5694400,"millis":5.6944,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"print response"},"stepLog":"13:09:45.197 [print] {\n  \"countryId\": 4,\n  \"countryName\": \"Japan\",\n  \"countryCapital\": \"Tokyo\",\n  \"countryPopulation\": 126038800,\n  \"countryStates\": 47,\n  \"countryLanguage\": \"Japanese\",\n  \"countrySport\": \"Sumo\"\n}\n \n"},{"result":{"nanos":24087900,"millis":24.0879,"status":"passed"},"step":{"line":14,"prefix":"And","index":4,"text":"match response.countryId == 4"}},{"result":{"nanos":87599600,"errorMessage":"js failed:\n>>>>\n01: db.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:56 Missing close quote\r\ndb.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\r\n                                                        ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2205)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2124)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1316)\n\nsrc\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature:15","millis":87.5996,"status":"failed"},"step":{"line":15,"prefix":"*","index":5,"text":"def country = db.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')"},"stepLog":"13:09:45.311 src\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature:15\n* def country = db.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\njs failed:\n>>>>\n01: db.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:56 Missing close quote\r\ndb.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\r\n                                                        ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2205)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2124)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1316)\n\nsrc\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature:15\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"*","index":6,"text":"print country"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"*","index":7,"text":"match country.CTRY_NAME == 'Japan'"}}],"line":9,"description":"","durationMillis":1576.1276,"failed":true,"error":"js failed:\n>>>>\n01: db.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:56 Missing close quote\r\ndb.readRow('Select * from COUNTRY where CTRY_ID=' + 4;')\r\n                                                        ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:401)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:141)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:137)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2205)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2124)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1316)\n\nsrc\/test\/java\/feature\/GET_API_Demo_With_DB_Validation.feature:15","executorName":"main","name":"Verify automation of Get Country API and validate the response with DB data","startTime":1651909183309,"refId":"[1:9]","endTime":1651909185311,"exampleIndex":-1}],"callDepth":0,"name":"Automation of GET API","description":"","resultDate":"2022-05-07 01:09:45 PM","durationMillis":1576.1276,"passedCount":0}